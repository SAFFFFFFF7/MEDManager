@using MEDManager.ViewModel;

@model FormViewModel

<form asp-action="Edit" asp-controller="Prescription" method="post">

    <input asp-for="@Model.PrescriptionId" type="hidden"/>

    <div class="form-group">
        <label asp-for="@Model.StartDate"></label> <input asp-for="@Model.StartDate" class="form-control" />
        <span asp-validation-for="@Model.StartDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="@Model.EndDate"></label> <input asp-for="@Model.EndDate" class="form-control" />
        <span asp-validation-for="@Model.EndDate" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="@Model.Dosage"></label> <input asp-for="@Model.Dosage" class="form-control" />
        <span asp-validation-for="@Model.Dosage" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="@Model.AdditionalInformation"></label> <input asp-for="@Model.AdditionalInformation" class="form-control" />
        <span asp-validation-for="@Model.AdditionalInformation" class="text-danger"></span>
    </div>

    <h4>Medicaments</h4>
    <div class="form-group">
        @foreach (var medicament in Model.Medicaments)
        {
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="SelectedMedicamentIds" value="@medicament.Id"
                @(Model.SelectedMedicamentIds != null && Model.SelectedMedicamentIds.Contains(medicament.Id) ? "checked" : "") />
                <label class="form-check-label">@medicament.Name</label>
            </div>
        }
    </div>

    <input type="submit" value="Sauvegarder" class="btn btn-primary" />
    <input type="button" onclick="history.back()" value="Retour" class="btn btn-secondary" />
</form>